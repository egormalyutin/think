// Generated by CoffeeScript 2.3.1
var addImage, images, more, requestText;

more = document.getElementById("more");

images = document.getElementById("images");

requestText = function(url, cb) {
  var xhr;
  xhr = new XMLHttpRequest;
  xhr.open('GET', url, true);
  xhr.send();
  return xhr.onreadystatechange = function() {
    if (xhr.readyState !== 4) {
      return;
    }
    if (xhr.status !== 200) {
      return console.error(xhr.status + ': ' + xhr.statusText);
    } else {
      return cb(xhr.responseText);
    }
  };
};

addImage = function() {
  return requestText("/api-link", function(link) {
    var image, wrapper;
    wrapper = document.createElement("div");
    wrapper.className = "think-image-wrapper";
    image = document.createElement("img");
    image.className = "think-image";
    image.src = link;
    wrapper.appendChild(image);
    images.appendChild(wrapper);
    return image.onload = function() {
      return images.scroll({
        top: 99999999999999999999999999999999999999,
        left: 0,
        behavior: "smooth"
      });
    };
  });
};

more.onclick = addImage;

addImage();
